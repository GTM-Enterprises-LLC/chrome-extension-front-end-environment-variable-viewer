<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Next.js App - Environment Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 900px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #000;
      margin-bottom: 10px;
    }
    .logo {
      font-size: 48px;
      margin-bottom: 20px;
    }
    .info {
      background: #f0f0f0;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #000;
      margin: 20px 0;
    }
    pre {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">▲</div>
    <h1>Next.js App Test Page</h1>
    <p>This page simulates a Next.js application with environment variables.</p>
    
    <div class="info">
      <strong>▲ Next.js Pattern:</strong> Only <code>NEXT_PUBLIC_*</code> variables are exposed to the browser.
    </div>
    
    <h2>Expected Variables:</h2>
    <pre>
NEXT_PUBLIC_API_URL: https://api.nextjs-app.com
NEXT_PUBLIC_SITE_NAME: Next.js App
NEXT_PUBLIC_ANALYTICS_ID: G-XXXXXXXXXX
NEXT_PUBLIC_STRIPE_KEY: pk_live_abc123
    </pre>
  </div>

  <script id="__NEXT_DATA__" type="application/json">
    {
      "props": {
        "pageProps": {
          "env": {
            "NEXT_PUBLIC_API_URL": "https://api.nextjs-app.com",
            "NEXT_PUBLIC_SITE_NAME": "Next.js App",
            "NEXT_PUBLIC_ANALYTICS_ID": "G-XXXXXXXXXX"
          }
        }
      },
      "page": "/",
      "query": {},
      "buildId": "development",
      "isFallback": false,
      "gssp": true,
      "scriptLoader": []
    }
  </script>

  <!-- Simulated Next.js bundle -->
  <script>
    // Next.js runtime config
    window.__NEXT_DATA__ = {
      props: {
        pageProps: {
          env: {
            NEXT_PUBLIC_API_URL: "https://api.nextjs-app.com",
            NEXT_PUBLIC_SITE_NAME: "Next.js App",
            NEXT_PUBLIC_ANALYTICS_ID: "G-XXXXXXXXXX",
            NEXT_PUBLIC_STRIPE_KEY: "pk_live_abc123"
          }
        }
      }
    };
    
    // Simulated compiled environment variables
    const e = {
      NEXT_PUBLIC_API_URL: "https://api.nextjs-app.com",
      NEXT_PUBLIC_AUTH_DOMAIN: "auth.nextjs-app.com",
      NEXT_PUBLIC_GRAPHQL_ENDPOINT: "https://graphql.nextjs-app.com/v1"
    };
    
    const config = {
      "NEXT_PUBLIC_SENTRY_DSN": "https://abc@sentry.io/123",
      "NEXT_PUBLIC_VERCEL_URL": "my-app.vercel.app"
    };
    
    console.log("Next.js app loaded");
  </script>
  
  <!-- Simulated Next.js chunk -->
  <script>
    !function(){
      var t={
        NEXT_PUBLIC_AWS_REGION:"us-east-1",
        NEXT_PUBLIC_S3_BUCKET:"my-nextjs-bucket",
        NEXT_PUBLIC_FEATURE_FLAGS:'{"newLayout":true}'
      };
    }();
  </script>
</body>
</html>
