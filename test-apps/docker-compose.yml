services:
  # React Demo - Development
  react-demo-dev:
    build:
      context: ./all-basic-demos/react-demo
      dockerfile: Dockerfile
      target: dev
    ports:
      - "3001:3000"
    volumes:
      - ./all-basic-demos/react-demo:/app
      - /app/node_modules
    environment:
      - CHOKIDAR_USEPOLLING=true
    env_file:
      - ./all-basic-demos/react-demo/.env

  # React Demo - Production Build
  react-demo-prod:
    build:
      context: ./all-basic-demos/react-demo
      dockerfile: Dockerfile
      target: prod
    ports:
      - "3002:80"
    env_file:
      - ./all-basic-demos/react-demo/.env

  # Vite Demo - Development
  vite-demo-dev:
    build:
      context: ./all-basic-demos/vite-demo
      dockerfile: Dockerfile
      target: dev
    ports:
      - "5173:5173"
    volumes:
      - ./all-basic-demos/vite-demo:/app
      - /app/node_modules
    env_file:
      - ./all-basic-demos/vite-demo/.env

  # Vite Demo - Production Build
  vite-demo-prod:
    build:
      context: ./all-basic-demos/vite-demo
      dockerfile: Dockerfile
      target: prod
    ports:
      - "4173:4173"
    env_file:
      - ./all-basic-demos/vite-demo/.env

  # Next.js Demo - Development
  nextjs-demo-dev:
    build:
      context: ./all-basic-demos/nextjs-demo
      dockerfile: Dockerfile
      target: dev
    ports:
      - "3003:3000"
    volumes:
      - ./all-basic-demos/nextjs-demo:/app
      - /app/node_modules
      - /app/.next
    env_file:
      - ./all-basic-demos/nextjs-demo/.env.local

  # Next.js Demo - Production Build
  nextjs-demo-prod:
    build:
      context: ./all-basic-demos/nextjs-demo
      dockerfile: Dockerfile
      target: prod
    ports:
      - "3004:3000"
    env_file:
      - ./all-basic-demos/nextjs-demo/.env.local

  # Multicloud Demo - Development
  multicloud-demo-dev:
    build:
      context: ./dangerous-keys-demos/multicloud-demo
      dockerfile: Dockerfile
      target: dev
    ports:
      - "5174:5174"
    volumes:
      - ./dangerous-keys-demos/multicloud-demo:/app
      - /app/node_modules
    env_file:
      - ./dangerous-keys-demos/multicloud-demo/.env

  # Multicloud Demo - Production Build
  multicloud-demo-prod:
    build:
      context: ./dangerous-keys-demos/multicloud-demo
      dockerfile: Dockerfile
      target: prod
    ports:
      - "5184:5174"
    env_file:
      - ./dangerous-keys-demos/multicloud-demo/.env

  # Payment APIs Demo - Development
  payment-demo-dev:
    build:
      context: ./dangerous-keys-demos/payment-apis-demo
      dockerfile: Dockerfile
      target: dev
    ports:
      - "5175:5175"
    volumes:
      - ./dangerous-keys-demos/payment-apis-demo:/app
      - /app/node_modules
    env_file:
      - ./dangerous-keys-demos/payment-apis-demo/.env

  # Payment APIs Demo - Production Build
  payment-demo-prod:
    build:
      context: ./dangerous-keys-demos/payment-apis-demo
      dockerfile: Dockerfile
      target: prod
    ports:
      - "5185:5175"
    env_file:
      - ./dangerous-keys-demos/payment-apis-demo/.env

  # Vue Demo - Development
  vue-demo-dev:
    build:
      context: ./all-basic-demos/vue-demo
      dockerfile: Dockerfile
      target: dev
    ports:
      - "5176:5173"
    volumes:
      - ./all-basic-demos/vue-demo:/app
      - /app/node_modules
    env_file:
      - ./all-basic-demos/vue-demo/.env

  # Vue Demo - Production Build
  vue-demo-prod:
    build:
      context: ./all-basic-demos/vue-demo
      dockerfile: Dockerfile
      target: prod
    ports:
      - "8081:4173"
    env_file:
      - ./all-basic-demos/vue-demo/.env

  # Svelte Demo - Development
  svelte-demo-dev:
    build:
      context: ./all-basic-demos/svelte-demo
      dockerfile: Dockerfile
      target: dev
    ports:
      - "5177:5173"
    volumes:
      - ./all-basic-demos/svelte-demo:/app
      - /app/node_modules
    env_file:
      - ./all-basic-demos/svelte-demo/.env

  # Svelte Demo - Production Build
  svelte-demo-prod:
    build:
      context: ./all-basic-demos/svelte-demo
      dockerfile: Dockerfile
      target: prod
    ports:
      - "8082:4173"
    env_file:
      - ./all-basic-demos/svelte-demo/.env

  # Angular Demo - Development
  angular-demo-dev:
    build:
      context: ./all-basic-demos/angular-demo
      dockerfile: Dockerfile
      target: dev
    ports:
      - "4200:4200"
    volumes:
      - ./all-basic-demos/angular-demo:/app
      - /app/node_modules
    environment:
      - NODE_OPTIONS=--max-old-space-size=4096

  # Angular Demo - Production Build
  angular-demo-prod:
    build:
      context: ./all-basic-demos/angular-demo
      dockerfile: Dockerfile
      target: prod
    ports:
      - "8083:4173"
